<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css">
    <title>Ecoforum</title>
    <script type="text/javascript" src="darkmode.js"></script>
</head>
<body>
    <script>
        alert("This website requires a lot of data. Press OK to continue.");
    </script>

    <div class="container">
        <button id="mode-switch"> 
            <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e8eaed">
                <path d="M480-360q50 0 85-35t35-85q0-50-35-85t-85-35q-50 0-85 35t-35 85q0 50 35 85t85 35Zm0 80q-83 0-141.5-58.5T280-480q0-83 58.5-141.5T480-680q83 0 141.5 58.5T680-480q0 83-58.5 141.5T480-280ZM200-440H40v-80h160v80Zm720 0H760v-80h160v80ZM440-760v-160h80v160h-80Zm0 720v-160h80v160h-80ZM256-650l-101-97 57-59 96 100-52 56Zm492 496-97-101 53-55 101 97-57 59Zm-98-550 97-101 59 57-100 96-56-52ZM154-212l101-97 55 53-97 101-59-57Zm326-268Z"/>
            </svg>
            <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e8eaed">
                <path d="M480-120q-150 0-255-105T120-480q0-150 105-255t255-105q14 0 27.5 1t26.5 3q -41,29 -65.5,75.5T444 -660q0,90,63,153t153,63q55,0,101 -24.5t75 -65.5q2,13,3,26.5t1,27.5q0,150 -105,255T480 -120Zm0 -80q88,0,158 -48.5T740 -375q -20,5 -40,8t -40,3q -123,0 -209.5,-86.5T364 -660q0,-20,3,-40t8,-40q -78,32 -126.5,102T200 -480 q0,116,82,198t198,82Zm -10 -270Z"/>
            </svg>
        </button>
    </div>

    <div style="text-align: center;">
        <h1>Welcome to Ecoforum</h1>
        <h3>Enter your Username and Password</h3>

        <form id="login-form" onsubmit="return checkLoginCredentials();">
            <label for="username">Username:</label><br>
            <input type="text" id="username" name="username" required><br><br>
            <label for="password">Password:</label><br>
            <input type="password" id="password" name="password" required><br><br>
            <button type="submit">Login</button>
        </form>

        <p id="forgot-password-link" style="display:none;">
            <a href="#" onclick="showForgotPasswordForm()">Forgot Password?</a>
        </p>
        <p><a href="#" onclick="showSignUpForm()">Sign Up</a></p>

        <div id="forgot-password-form" style="display:none;">
            <h3>Reset Your Password</h3>
            <label for="reset-email">Enter your email to reset password:</label><br>
            <input type="email" id="reset-email" name="reset-email" required><br><br>
            <button onclick="resetPassword()">Reset Password</button>
        </div>

        <div id="signup-form" style="display:none;">
            <h3>Create an Account</h3>
            <label for="new-username">Username:</label><br>
            <input type="text" id="new-username" name="new-username" required><br><br>
            <label for="new-password">Password:</label><br>
            <input type="password" id="new-password" name="new-password" required><br><br>
            <button onclick="signUp()">Sign Up</button>
        </div>

        <p id="homepage-link" style="display:none;">
            <a href="homepage.html" target="_blank">Go to Homepage</a>
        </p>
    </div>

    <script>
        const users = {
            "ryan": "psswrd123",
            "goataadi": "12345",
            "barca": "sextuple"
        };

        function checkLoginCredentials() {
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;

            if (users[username] === password) {
                document.getElementById('homepage-link').style.display = 'block';
                alert("Login successful! Welcome, " + username + "!");
                return false;
            } else {
                alert("Invalid username or password.");
                document.getElementById('forgot-password-link').style.display = 'block';
                return false;
            }
        }

        function showForgotPasswordForm() {
            document.getElementById('forgot-password-form').style.display = 'block';
            document.getElementById('signup-form').style.display = 'none';
        }

        function showSignUpForm() {
            document.getElementById('signup-form').style.display = 'block';
            document.getElementById('forgot-password-form').style.display = 'none';
        }

        function resetPassword() {
            const email = document.getElementById('reset-email').value;
            alert("Password reset instructions have been sent to: " + email);
            document.getElementById('forgot-password-form').style.display = 'none';
        }

        function signUp() {
            const username = document.getElementById('new-username').value;
            const password = document.getElementById('new-password').value;
            users[username] = password;
            alert("Account created successfully! Please log in.");
            document.getElementById('signup-form').style.display = 'none';
        }
    </script>
</body>
</html>
